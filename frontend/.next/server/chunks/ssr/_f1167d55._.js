module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},98621,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.s(["clsx",()=>b,"default",0,b])},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},86022,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18155),e=a.i(23665),f=a.i(58042),g=a.i(94222),h=a.i(54419),i=a.i(59854),j=a.i(2274),k=a.i(48662),l=a.i(57431),m=a.i(77924),n=a.i(96439),o=a.i(96101),p=a.i(60246),q=a.i(16201),r=a.i(90669),s=a.i(55225),t=a.i(84097),u=a.i(23292),v=a.i(9603);function w({params:a}){let{uuid:w}=(0,c.use)(a),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]);(0,c.useEffect)(()=>{w&&D()},[w]);let D=async()=>{y(!0);try{let a=(await t.default.get(`/api/v1/projects/?organisation_id=${w}`)).data;A(a);let b=[];for(let c of a){let a=await t.default.get(`/api/v1/test_cases/?project_id=${c.id}`);b.push(...a.data)}C(b)}catch(a){console.error("Failed to fetch reporting data:",a),u.toast.error("Failed to load reporting data")}finally{y(!1)}},E=z.length,F=B.reduce((a,b)=>{let c=new Date;return c.setDate(c.getDate()-30),a+(b.execution_logs?.filter(a=>new Date(a.timestamp)>c)||[]).length},0),G=B.filter(a=>"DRAFT"!==a.status&&"READY"!==a.status),H=G.filter(a=>"PASSED"===a.status),I=G.length>0?Math.round(H.length/G.length*100):0,J=z.map(a=>{let b=B.filter(b=>b.project_id===a.id).reduce((a,b)=>a+(b.execution_logs?.length||0),0);return{name:a.name,testRuns:b}}),K=Object.entries(B.reduce((a,b)=>(b.execution_logs?.forEach(b=>{let c=new Date(b.timestamp).toISOString().split("T")[0].substring(0,7);a[c]||(a[c]=0),a[c]++}),a),{})).map(([a,b])=>({date:a,runs:b})).sort((a,b)=>a.date.localeCompare(b.date));return x?(0,b.jsxs)("div",{className:"flex min-h-screen",children:[(0,b.jsx)(v.Sidebar,{organisationId:w}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center bg-white",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading reporting data..."})]})})]}):(0,b.jsxs)("div",{className:"flex min-h-screen bg-white",children:[(0,b.jsx)(v.Sidebar,{organisationId:w}),(0,b.jsxs)("div",{className:"flex-1 p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(s.BarChart3,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Enterprise Reporting"})]}),(0,b.jsx)("p",{className:"text-lg text-gray-600 mb-8 mt-4",children:"Analytics and insights across all your projects"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsx)(n.StatsCard,{title:"Total Projects",value:E,icon:o.FolderOpen,iconBgColor:"bg-blue-100",iconColor:"text-blue-600",textLabelColor:"text-gray-600",textNumberColor:"text-gray-900",borderColor:"border-blue-200"}),(0,b.jsx)(n.StatsCard,{title:"Active Users",value:"128",icon:p.Users,iconBgColor:"bg-orange-100",iconColor:"text-orange-600",textLabelColor:"text-gray-600",textNumberColor:"text-gray-900",borderColor:"border-orange-200"}),(0,b.jsx)(n.StatsCard,{title:"Overall Pass Rate",value:`${I}%`,icon:q.CheckCircle,iconBgColor:"bg-green-100",iconColor:"text-green-600",textLabelColor:"text-gray-600",textNumberColor:"text-gray-900",borderColor:"border-green-200"}),(0,b.jsx)(n.StatsCard,{title:"Total Test Runs (Last 30 Days)",value:F,icon:r.Activity,iconBgColor:"bg-purple-100",iconColor:"text-purple-600",textLabelColor:"text-gray-600",textNumberColor:"text-gray-900",borderColor:"border-purple-200"})]}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Test Activity Across Projects"}),(0,b.jsx)(k.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(d.BarChart,{data:J,children:[(0,b.jsx)(h.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(f.XAxis,{dataKey:"name"}),(0,b.jsx)(g.YAxis,{}),(0,b.jsx)(i.Tooltip,{}),(0,b.jsx)(j.Legend,{}),(0,b.jsx)(e.Bar,{dataKey:"testRuns",fill:"#8884d8",name:"Test Runs"})]})})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Organization-Wide Test Runs Over Time"}),(0,b.jsx)(k.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(l.LineChart,{data:K,children:[(0,b.jsx)(h.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(f.XAxis,{dataKey:"date"}),(0,b.jsx)(g.YAxis,{}),(0,b.jsx)(i.Tooltip,{}),(0,b.jsx)(j.Legend,{}),(0,b.jsx)(m.Line,{type:"monotone",dataKey:"runs",stroke:"#82ca9d",name:"Test Runs"})]})})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold p-6",children:"Projects Overview"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,b.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Project Name"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Test Cases"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Pass Rate"})]})}),(0,b.jsx)("tbody",{children:z.map(a=>{let c=B.filter(b=>b.project_id===a.id),d=c.filter(a=>"DRAFT"!==a.status&&"READY"!==a.status),e=d.filter(a=>"PASSED"===a.status),f=d.length>0?Math.round(e.length/d.length*100):0;return(0,b.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,b.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-4",children:c.length}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[f,"%"]})]},a.id)})})]})})]})]})]})]})}a.s(["default",()=>w])}];

//# sourceMappingURL=_f1167d55._.js.map