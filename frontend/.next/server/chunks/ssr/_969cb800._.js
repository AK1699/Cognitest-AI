module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},30157,a=>{"use strict";function b(a){try{let b="string"==typeof a?new Date(a):a;if(isNaN(b.getTime()))return"Invalid date";let c=String(b.getDate()).padStart(2,"0"),d=b.toLocaleString("en-US",{month:"short"}).toUpperCase(),e=b.getFullYear();return`${c} ${d} ${e}`}catch(a){return console.error("Error formatting date:",a),"Invalid date"}}a.s(["formatDateHumanReadable",()=>b])},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},79360,a=>{"use strict";let b=(0,a.i(70106).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>b],79360)},69600,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(9603),f=a.i(96101),g=a.i(23292),h=a.i(84097),i=a.i(44726);function j({isOpen:a,onClose:d,organisationId:e,onProjectCreated:j}){let{user:k}=(0,i.useAuth)(),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!1);if(!a)return null;let t=async a=>{if(a.preventDefault(),!l.trim())return void g.toast.error("Project name is required");if(!k)return void g.toast.error("User not authenticated");s(!0);try{let a={name:l.trim(),owner_id:k.id,organisation_id:e,status:"active",description:n.trim(),team_ids:[],settings:{enabled_modules:p}};console.log("Creating project with payload:",a);let b=await h.default.post("/api/v1/projects/",a);console.log("Project created successfully:",b.data),g.toast.success("Project created successfully!"),m(""),o(""),q([]),j(),d()}catch(c){console.error("Failed to create project:",c),console.error("Error response:",c.response?.data);let a=c.response?.data?.detail,b=Array.isArray(a)?a.map(a=>`${a.loc.join(".")}: ${a.msg}`).join(", "):a||"Failed to create project";g.toast.error(b)}finally{s(!1)}};return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:d}),(0,b.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col overflow-hidden",children:[(0,b.jsxs)("div",{className:"text-center pt-12 pb-8 px-8 flex-shrink-0",children:[(0,b.jsx)("h2",{className:"text-3xl font-semibold text-gray-900 mb-3",children:"Create a new project"}),(0,b.jsx)("p",{className:"text-base text-gray-600",children:"Projects help you organize and manage your test plans, test suites, and test cases in one place."})]}),(0,b.jsx)("form",{id:"create-project-form",onSubmit:t,className:"px-8 overflow-y-auto flex-1",children:(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-2",children:"Project Name *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.FolderOpen,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),placeholder:"e.g., Payroll Platform",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:r,required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:n,onChange:a=>o(a.target.value),placeholder:"Brief description of your project...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",disabled:r})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-3",children:"Select Testing Modules"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Choose which testing capabilities you want to enable for this project"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{id:"test-management",name:"Test Management",color:"blue"},{id:"api-testing",name:"API Testing",color:"green"},{id:"automation-hub",name:"Automation Hub",color:"purple"},{id:"security-testing",name:"Security Testing",color:"red"},{id:"performance-testing",name:"Performance Testing",color:"yellow"},{id:"mobile-testing",name:"Mobile Testing",color:"indigo"}].map(a=>{let c=p.includes(a.id);return(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void q(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},disabled:r,className:`
                        relative p-4 rounded-lg border-2 text-left transition-all
                        ${c?({blue:"border-blue-200 bg-blue-50 text-blue-700",green:"border-green-200 bg-green-50 text-green-700",purple:"border-purple-200 bg-purple-50 text-purple-700",red:"border-red-200 bg-red-50 text-red-700",yellow:"border-yellow-200 bg-yellow-50 text-yellow-700",indigo:"border-indigo-200 bg-indigo-50 text-indigo-700"})[a.color]:"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                      `,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`
                          mt-0.5 w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0
                          ${c?"bg-current border-current":"border-gray-300"}
                        `,children:c&&(0,b.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.name})]})},a.id)})})]})]})}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-6 pb-6 px-8 bg-gray-50 border-t border-gray-200 flex-shrink-0",children:[(0,b.jsx)("button",{type:"button",onClick:d,disabled:r,className:"px-5 py-2.5 text-sm font-medium text-primary hover:text-primary/80 transition-colors disabled:opacity-50",children:"Back"}),(0,b.jsx)("button",{type:"submit",form:"create-project-form",disabled:r||!l.trim(),className:"px-5 py-2.5 bg-primary hover:opacity-90 text-white rounded-lg text-sm font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:r?"Creating...":"Create project"})]})]})]})}var k=a.i(30157),l=a.i(87532),m=a.i(15618),n=a.i(79360);let o={"test-management":{name:"Test Management",color:"blue"},"api-testing":{name:"API Testing",color:"green"},"automation-hub":{name:"Automation Hub",color:"purple"},"security-testing":{name:"Security Testing",color:"red"},"performance-testing":{name:"Performance Testing",color:"yellow"},"mobile-testing":{name:"Mobile Testing",color:"indigo"}};function p({params:a}){let i=(0,d.useRouter)(),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),{uuid:x}=(0,c.use)(a);(0,c.useEffect)(()=>{y()},[x]);let y=async()=>{try{let a=await h.default.get(`/api/v1/projects/?organisation_id=${x}`);q(a.data)}catch(a){console.error("Failed to fetch projects:",a),a.response?.status===404?g.toast.error("You do not have access to this organization"):a.response?.status===403?g.toast.error("You do not have permission to view projects"):g.toast.error("Failed to load projects"),q([])}finally{s(!1)}},z=p.filter(a=>a.name.toLowerCase().includes(t.toLowerCase()));return r?(0,b.jsxs)("div",{className:"flex min-h-screen",children:[(0,b.jsx)(e.Sidebar,{organisationId:x}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center bg-white",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading projects..."})]})})]}):(0,b.jsxs)("div",{className:"flex min-h-screen bg-white",children:[(0,b.jsx)(e.Sidebar,{organisationId:x}),(0,b.jsxs)("main",{className:"flex-1 overflow-auto",children:[(0,b.jsxs)("div",{className:"px-8 py-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(f.FolderOpen,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Projects"})]}),(0,b.jsx)("p",{className:"text-lg text-gray-600 mt-4",children:"Create and manage your testing projects"})]}),(0,b.jsxs)("div",{className:"px-8 py-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"flex-1 flex items-center gap-3 px-4 py-3 border border-gray-200 rounded-lg",children:[(0,b.jsx)(l.Search,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,b.jsx)("input",{type:"text",placeholder:"Search projects",value:t,onChange:a=>u(a.target.value),className:"flex-1 text-sm bg-transparent border-0 text-gray-900 placeholder-gray-400 outline-none"}),(0,b.jsxs)("div",{className:"text-sm text-gray-400 whitespace-nowrap",children:[z.length," project",1!==z.length?"s":""]})]}),(0,b.jsxs)("button",{onClick:()=>w(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary hover:opacity-90 text-white rounded-lg text-sm font-medium transition-all shadow-sm hover:shadow-md",children:[(0,b.jsx)(m.Plus,{className:"w-4 h-4"}),"New project"]})]}),0===z.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FolderOpen,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-1",children:t?"No projects found":"No projects yet"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:t?"Try adjusting your search":"Create your first project to get started"}),!t&&(0,b.jsxs)("button",{onClick:()=>w(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary hover:opacity-90 text-white rounded-lg text-sm font-medium transition-all shadow-sm hover:shadow-md",children:[(0,b.jsx)(m.Plus,{className:"w-4 h-4"}),"Create project"]})]}):(0,b.jsx)("div",{className:"grid gap-5 md:grid-cols-2",children:z.map(a=>(0,b.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200 overflow-hidden group cursor-pointer",onClick:()=>i.push(`/organizations/${x}/projects/${a.id}`),children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 hover:text-primary mb-1 transition-colors",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.description})]}),(0,b.jsx)("button",{className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:(0,b.jsx)(n.MoreVertical,{className:"w-4 h-4 text-gray-400"})})]}),a.settings?.enabled_modules&&a.settings.enabled_modules.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:a.settings.enabled_modules.map(a=>{let c=o[a];return c?(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded ${{blue:"bg-blue-50 text-blue-700",green:"bg-green-50 text-green-700",purple:"bg-purple-50 text-purple-700",red:"bg-red-50 text-red-700",yellow:"bg-yellow-50 text-yellow-700",indigo:"bg-indigo-50 text-indigo-700"}[c.color]}`,children:c.name},a):null})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"Total Artifacts"}),(0,b.jsx)("div",{className:"text-2xl font-semibold text-gray-900 mt-1",children:"0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,b.jsx)("div",{className:"text-sm text-gray-900 mt-1",children:a.created_at?(0,k.formatDateHumanReadable)(a.created_at):"Just now"})]})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),i.push(`/organizations/${x}/projects/${a.id}`)},className:"w-full mt-4 py-2.5 px-4 bg-primary/5 hover:bg-primary/10 text-primary text-sm font-medium rounded-lg transition-colors",children:"Open Project â†’"})]})},a.id))})]})]}),(0,b.jsx)(j,{isOpen:v,onClose:()=>w(!1),organisationId:x,onProjectCreated:y})]})}a.s(["default",()=>p],69600)}];

//# sourceMappingURL=_969cb800._.js.map