module.exports=[87140,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(9603),e=a.i(44745),f=a.i(91939),g=a.i(21130),h=a.i(4720),i=a.i(70106);let j=(0,i.default)("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);var k=a.i(87534),l=a.i(10713),m=a.i(93846),n=a.i(38793),o=a.i(80094),p=a.i(17581),q=a.i(80563),r=a.i(15618),s=a.i(41675),t=a.i(81560),u=a.i(8406),v=a.i(69374),w=a.i(30157),x=a.i(48550),y=a.i(10521),z=a.i(54113);function A({projectId:a}){let[d,e]=(0,c.useState)([]),[g,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),{toast:C}=(0,x.useToast)(),{confirm:D,ConfirmDialog:E}=(0,y.useConfirm)(),[F,G]=(0,c.useState)({name:"",description:"",objectives:"",tags:""});(0,c.useEffect)(()=>{H()},[a]);let H=async()=>{try{i(!0);let b=await v.testPlansAPI.list(a);e(b||[])}catch(b){e([]);let a=b.response?.status;a&&![403,404].includes(a)&&C({title:"Error",description:"Failed to load test plans",variant:"destructive"})}finally{i(!1)}},I=async()=>{try{let b=localStorage.getItem("user_email")||"user@cognitest.ai",c=await v.testPlansAPI.create({project_id:a,name:F.name,description:F.description,objectives:F.objectives.split("\n").filter(a=>a.trim()),tags:F.tags.split(",").map(a=>a.trim()).filter(a=>a),created_by:b,generated_by:"manual",source_documents:[],meta_data:{}});e([c,...d]),k(!1),K(),C({title:"Success",description:"Test plan created successfully"})}catch(a){C({title:"Error",description:"Failed to create test plan",variant:"destructive"})}},J=async a=>{if(await D({message:"Are you sure you want to delete this test plan?",variant:"danger",confirmText:"Delete"}))try{await v.testPlansAPI.delete(a),e(d.filter(b=>b.id!==a)),A?.id===a&&B(null),C({title:"Success",description:"Test plan deleted successfully"})}catch(a){C({title:"Error",description:"Failed to delete test plan",variant:"destructive"})}},K=()=>{G({name:"",description:"",objectives:"",tags:""})};return g?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Loading test plans..."})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Test Plans"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Organize your testing strategy with comprehensive test plans"})]}),(0,b.jsxs)(f.Button,{onClick:()=>k(!0),className:"bg-primary hover:bg-primary/90",children:[(0,b.jsx)(r.Plus,{className:"w-4 h-4 mr-2"}),"New Test Plan"]})]}),0===d.length?(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(h.FileText,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No test plans yet"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first test plan to get started"}),(0,b.jsxs)(f.Button,{onClick:()=>k(!0),children:[(0,b.jsx)(r.Plus,{className:"w-4 h-4 mr-2"}),"Create Test Plan"]})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(a=>(0,b.jsxs)(l.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>B(a),children:[(0,b.jsx)(l.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(l.CardTitle,{className:"text-lg",children:a.name}),(0,b.jsx)(l.CardDescription,{className:"mt-2",children:a.description||"No description provided"})]}),"ai"===a.generated_by&&(0,b.jsx)(u.Sparkles,{className:"w-4 h-4 text-purple-500"})]})}),(0,b.jsx)(l.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[a.objectives.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Objectives"}),(0,b.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[a.objectives.slice(0,2).map((a,c)=>(0,b.jsxs)("li",{className:"truncate",children:['" ',a]},c)),a.objectives.length>2&&(0,b.jsxs)("li",{className:"text-primary",children:["+",a.objectives.length-2," more"]})]})]}),a.tags.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.tags.slice(0,3).map((a,c)=>(0,b.jsx)(p.Badge,{variant:"secondary",className:"text-xs",children:a},c)),a.tags.length>3&&(0,b.jsxs)(p.Badge,{variant:"secondary",className:"text-xs",children:["+",a.tags.length-3]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 pt-2 border-t",children:[(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)(s.Calendar,{className:"w-3 h-3 mr-1"}),(0,w.formatDateHumanReadable)(a.created_at)]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),J(a.id)},className:"hover:text-red-600",children:(0,b.jsx)(t.Trash2,{className:"w-4 h-4"})})})]})]})})]},a.id))}),(0,b.jsx)(q.Dialog,{open:j,onOpenChange:k,children:(0,b.jsxs)(q.DialogContent,{className:"sm:max-w-[600px]",children:[(0,b.jsxs)(q.DialogHeader,{children:[(0,b.jsx)(q.DialogTitle,{children:"Create Test Plan"}),(0,b.jsx)(q.DialogDescription,{children:"Define a comprehensive test plan for your project"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"name",children:"Name *"}),(0,b.jsx)(m.Input,{id:"name",placeholder:"e.g., User Authentication Test Plan",value:F.name,onChange:a=>G({...F,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(o.Textarea,{id:"description",placeholder:"Describe the scope and purpose of this test plan",rows:3,value:F.description,onChange:a=>G({...F,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"objectives",children:"Objectives (one per line)"}),(0,b.jsx)(o.Textarea,{id:"objectives",placeholder:"Verify login flow Test password reset Validate session management",rows:4,value:F.objectives,onChange:a=>G({...F,objectives:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,b.jsx)(m.Input,{id:"tags",placeholder:"authentication, security, critical",value:F.tags,onChange:a=>G({...F,tags:a.target.value})})]})]}),(0,b.jsxs)(q.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:I,disabled:!F.name.trim(),className:"bg-primary hover:bg-primary/90",children:"Create Test Plan"})]})]})}),(0,b.jsx)(z.TestPlanDetailsModal,{testPlan:A,open:!!A,onOpenChange:a=>!a&&B(null),readOnly:!0}),(0,b.jsx)(E,{})]})}var B=a.i(24352);let C=(0,i.default)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var D=a.i(33350),E=a.i(46842),F=a.i(50522),G=a.i(5784);function H({testSuite:a,open:d,onOpenChange:e,onViewTestCase:g,readOnly:i=!0}){let[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[r,t]=(0,c.useState)(new Set);(0,c.useEffect)(()=>{a&&d&&x()},[a,d]);let x=async()=>{if(a)try{m(!0),o(null),console.log("[TestSuiteDetailsModal] Loading test cases for suite:",a.id,"project:",a.project_id);let b=await v.testCasesAPI.list(a.project_id,a.id),c=[];"items"in b?c=b.items:Array.isArray(b)&&(c=b),console.log("[TestSuiteDetailsModal] Loaded test cases:",c?.length||0,c),k(c||[]),c&&0!==c.length||console.warn("[TestSuiteDetailsModal] No test cases found for this suite")}catch(a){console.error("[TestSuiteDetailsModal] Failed to load test cases:",a),o(a?.response?.data?.detail||a?.message||"Failed to load test cases"),k([])}finally{m(!1)}};return a?(0,b.jsx)(q.Dialog,{open:d,onOpenChange:e,children:(0,b.jsxs)(q.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)(q.DialogHeader,{children:[(0,b.jsxs)(q.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(C,{className:"w-5 h-5 text-primary"}),a.name]}),(0,b.jsxs)(q.DialogDescription,{children:["Created on ",(0,w.formatDateHumanReadable)(a.created_at)," by ",a.created_by]})]}),(0,b.jsx)("div",{className:"flex-1 pr-4 overflow-y-auto max-h-[60vh]",children:(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[a.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.description})]}),a.tags&&a.tags.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(D.Tag,{className:"w-4 h-4"}),"Tags"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map((a,c)=>(0,b.jsx)(p.Badge,{variant:"secondary",className:"text-xs",children:a},c))})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[(0,b.jsx)(h.FileText,{className:"w-4 h-4"}),"Test Cases (",j.length,")"]})}),l?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Loading test cases..."})]}):n?(0,b.jsxs)("div",{className:"text-center py-8 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-200 dark:border-red-800",children:[(0,b.jsx)(h.FileText,{className:"w-12 h-12 text-red-400 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-red-700 dark:text-red-400 mb-1",children:"Error loading test cases"}),(0,b.jsx)("p",{className:"text-xs text-red-600 dark:text-red-500",children:n}),(0,b.jsx)("button",{onClick:x,className:"mt-3 px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Retry"})]}):0===j.length?(0,b.jsxs)("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsx)(h.FileText,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"No test cases in this suite"}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Check the browser console for details"})]}):(0,b.jsx)("div",{className:"space-y-2",children:j.map(a=>(0,b.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-sm transition-shadow",children:[(0,b.jsx)("div",{className:"p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",onClick:()=>{var b;let c;return b=a.id,void((c=new Set(r)).has(b)?c.delete(b):c.add(b),t(c))},children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)("div",{className:"mt-1",children:r.has(a.id)?(0,b.jsx)(G.ChevronDown,{className:"w-4 h-4 text-gray-500"}):(0,b.jsx)(F.ChevronRight,{className:"w-4 h-4 text-gray-500"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[(0,b.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:a.title}),a.ai_generated&&(0,b.jsxs)(p.Badge,{variant:"secondary",className:"text-xs",children:[(0,b.jsx)(u.Sparkles,{className:"w-3 h-3 mr-1"}),"AI"]})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-1",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,b.jsxs)("span",{children:[a.steps?.length||0," steps"]}),(0,b.jsx)("span",{className:`px-2 py-0.5 rounded ${(a=>{switch(a){case"critical":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"high":return"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400";case"medium":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}})(a.priority)}`,children:a.priority}),a.status&&(0,b.jsx)("span",{className:"capitalize",children:a.status})]})]})]})})}),r.has(a.id)&&(0,b.jsxs)("div",{className:"px-4 pb-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[a.description&&(0,b.jsxs)("div",{className:"mb-4 pt-4",children:[(0,b.jsx)("h6",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.description})]}),a.steps&&a.steps.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h6",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Test Steps"}),(0,b.jsx)("div",{className:"space-y-2",children:a.steps.map((a,c)=>(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 p-3 rounded border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary text-white text-xs flex items-center justify-center flex-shrink-0",children:a.step_number}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white mb-1",children:[(0,b.jsx)("strong",{children:"Action:"})," ",a.action]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,b.jsx)("strong",{children:"Expected:"})," ",a.expected_result]})]})]})},c))})]}),a.expected_result&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h6",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Overall Expected Result"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.expected_result})]}),a.tags&&a.tags.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h6",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.tags.map((a,c)=>(0,b.jsx)(p.Badge,{variant:"outline",className:"text-xs",children:a},c))})]}),g&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:b=>{b.stopPropagation(),g(a)},className:"w-full",children:[(0,b.jsx)(h.FileText,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})]},a.id))})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[(0,b.jsx)(E.User,{className:"w-3 h-3"}),"Created By:"]}),(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.created_by})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[(0,b.jsx)(s.Calendar,{className:"w-3 h-3"}),"Created:"]}),(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(0,w.formatDateHumanReadable)(a.created_at)})]})]})})]})}),(0,b.jsxs)(q.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>e(!1),children:"Close"}),!i&&(0,b.jsx)(f.Button,{className:"bg-primary hover:bg-primary/90",children:"Edit Test Suite"})]})]})}):null}var I=a.i(67453),J=a.i(41710),K=a.i(1027),L=a.i(69922),M=a.i(25015);let N=(0,i.default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),O=(0,i.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var P=a.i(50944);function Q({testCase:a,open:d,onOpenChange:e,readOnly:g=!0}){let{toast:i}=(0,x.useToast)(),j=(0,P.useRouter)(),k=(0,P.usePathname)(),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[r,t]=(0,c.useState)(!1),u=k?.split("/")||[],v=u.indexOf("organizations"),y=u.indexOf("projects"),z=v>=0?u[v+1]:"",A=y>=0?u[y+1]:"";(0,c.useEffect)(()=>{a?.automation_enabled&&a?.automation_script_id?B():m(null)},[a?.id,a?.automation_script_id]);let B=async()=>{if(a?.id){o(!0);try{m(null)}catch(a){console.error("Failed to fetch automation script:",a)}finally{o(!1)}}},C=async()=>{if(a?.id){t(!0);try{i({title:"Test Execution Started",description:"The automated test is now running. You will be notified when it completes."})}catch(a){console.error("Failed to execute test:",a),i({title:"Execution Failed",description:"Failed to start automated test execution",variant:"destructive"})}finally{t(!1)}}};return a?(0,b.jsx)(q.Dialog,{open:d,onOpenChange:e,children:(0,b.jsxs)(q.DialogContent,{className:"max-w-5xl max-h-[90vh] bg-gradient-to-br from-blue-50 via-white to-indigo-50 border-gray-300 overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"pb-4 border-b border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-100 border border-green-300 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(I.CheckCircle2,{className:"w-5 h-5 text-green-600"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 flex-1",children:a.title})]}),a.human_id&&(0,b.jsx)("span",{className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg text-sm font-mono font-semibold border border-blue-300 ml-4",children:a.human_id})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)(p.Badge,{className:`${"critical"===a.priority?"bg-red-500":"high"===a.priority?"bg-orange-500":"medium"===a.priority?"bg-yellow-500":"bg-green-500"} text-white border-0 font-semibold uppercase px-3 py-1`,children:a.priority}),a.tags&&a.tags[0]&&(0,b.jsx)(p.Badge,{className:"bg-gray-100 text-gray-700 border-gray-300 px-3 py-1",children:a.tags[0]}),"ai"===a.generated_by&&(0,b.jsx)(p.Badge,{className:"bg-purple-100 text-purple-700 border-purple-300 px-3 py-1",children:"AI-Generated"})]})]}),(0,b.jsx)("div",{className:"flex-1 pr-4 overflow-y-auto max-h-[60vh]",children:(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[a.description&&(0,b.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,b.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.description})}),a.steps&&a.steps.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[(0,b.jsx)(h.FileText,{className:"w-4 h-4"}),"Test Steps (",a.steps.length,")"]}),(0,b.jsx)("div",{className:"space-y-3",children:a.steps.map((a,c)=>(0,b.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 border border-blue-300 text-blue-700 text-sm font-semibold flex items-center justify-center flex-shrink-0",children:a.step_number}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:["Step ",a.step_number]}),(0,b.jsx)("p",{className:"text-sm text-gray-900",children:a.action})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Expected Result:"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.expected_result})]})]})]})},c))})]}),a.expected_result&&(0,b.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-green-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)(I.CheckCircle2,{className:"w-4 h-4"}),"Overall Expected Result"]}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.expected_result})]}),(0,b.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 mt-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-6 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Priority:"}),(0,b.jsx)("span",{className:`ml-2 px-2 py-0.5 rounded font-semibold ${"critical"===a.priority?"bg-red-100 text-red-700":"high"===a.priority?"bg-orange-100 text-orange-700":"medium"===a.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:a.priority.toUpperCase()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Category:"}),(0,b.jsx)("span",{className:"ml-2 text-gray-900",children:a.tags&&a.tags[0]?a.tags[0]:"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Duration:"}),(0,b.jsx)("span",{className:"ml-2 text-gray-900",children:a.steps&&a.steps.length>0?`${4*a.steps.length}m`:"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Created:"}),(0,b.jsx)("span",{className:"ml-2 text-gray-900",children:new Date(a.created_at).toLocaleDateString()})]})]})}),a.automation_enabled&&(0,b.jsxs)("div",{className:"bg-blue-500/10 p-5 rounded-lg border border-blue-500/30 mt-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,b.jsx)(K.Zap,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:["Automation",a.automation_enabled&&(0,b.jsx)(p.Badge,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 border-0",children:"Enabled"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a.automation_enabled?"This test case is linked to an automation script":"Link this test case to an automation script for automated execution"})]})]})}),a.automation_enabled&&l?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-100 dark:border-blue-900",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:l.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:l.description})]}),(0,b.jsx)(p.Badge,{variant:"outline",className:"text-xs",children:l.script_type})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Executions"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:l.total_executions||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Success Rate"}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:[l.total_executions>0?Math.round(l.successful_executions/l.total_executions*100):0,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Avg Duration"}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[l.average_duration||0,"s"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{size:"sm",onClick:C,disabled:r,className:"flex-1 bg-blue-500 hover:bg-blue-600",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4 mr-2 animate-spin"}),"Executing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(M.Play,{className:"w-4 h-4 mr-2"}),"Run Automated Test"]})}),(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",onClick:()=>z&&A&&j.push(`/organizations/${z}/projects/${A}/automation-hub/web-automation`),disabled:!z||!A,children:[(0,b.jsx)(O,{className:"w-4 h-4 mr-2"}),"View Script"]})]}),(0,b.jsxs)(f.Button,{size:"sm",variant:"ghost",className:"w-full text-xs",onClick:()=>{},children:[(0,b.jsx)(N,{className:"w-3 h-3 mr-2"}),"View Execution History"]})]}):a.automation_enabled?(0,b.jsx)("div",{className:"text-center py-4",children:(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Loading automation script..."})}):(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"No automation script linked to this test case yet"}),(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",onClick:()=>{z&&A&&j.push(`/organizations/${z}/projects/${A}/automation-hub/web-automation?linkTestCase=${a?.id}`)},className:"border-blue-300 hover:bg-blue-50 dark:border-blue-700 dark:hover:bg-blue-900/20",children:[(0,b.jsx)(L.Link2,{className:"w-4 h-4 mr-2"}),"Link Automation Script"]})]})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1 mb-1",children:[(0,b.jsx)(E.User,{className:"w-3 h-3"}),"Created By"]}),(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.created_by})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1 mb-1",children:[(0,b.jsx)(s.Calendar,{className:"w-3 h-3"}),"Created At"]}),(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(0,w.formatDateHumanReadable)(a.created_at)})]}),a.updated_at&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1 mb-1",children:[(0,b.jsx)(s.Calendar,{className:"w-3 h-3"}),"Updated At"]}),(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(0,w.formatDateHumanReadable)(a.updated_at)})]})]})]})}),(0,b.jsxs)(q.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>e(!1),children:"Close"}),!g&&(0,b.jsx)(f.Button,{className:"bg-primary hover:bg-primary/90",children:"Edit Test Case"})]})]})}):null}function R({projectId:a}){let[d,e]=(0,c.useState)([]),[g,i]=(0,c.useState)([]),[k,u]=(0,c.useState)(!0),[z,A]=(0,c.useState)(!1),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(null),{toast:G}=(0,x.useToast)(),{confirm:I,ConfirmDialog:J}=(0,y.useConfirm)(),[K,L]=(0,c.useState)({name:"",description:"",test_plan_id:"",tags:""});(0,c.useEffect)(()=>{M()},[a]);let M=async()=>{try{u(!0);let[b,c]=await Promise.all([v.testSuitesAPI.list(a),v.testPlansAPI.list(a)]);e(b||[]),i(c||[])}catch(b){e([]),i([]);let a=b.response?.status;a&&![403,404].includes(a)&&G({title:"Error",description:"Failed to load test suites",variant:"destructive"})}finally{u(!1)}},N=async()=>{try{let b=localStorage.getItem("user_email")||"user@cognitest.ai",c=await v.testSuitesAPI.create({project_id:a,test_plan_id:K.test_plan_id||void 0,name:K.name,description:K.description,tags:K.tags.split(",").map(a=>a.trim()).filter(a=>a),created_by:b,generated_by:"manual",meta_data:{}});e([c,...d]),A(!1),P(),G({title:"Success",description:"Test suite created successfully"})}catch(a){G({title:"Error",description:"Failed to create test suite",variant:"destructive"})}},O=async a=>{if(await I({message:"Are you sure you want to delete this test suite?",variant:"danger",confirmText:"Delete"}))try{await v.testSuitesAPI.delete(a),e(d.filter(b=>b.id!==a)),C?.id===a&&D(null),G({title:"Success",description:"Test suite deleted successfully"})}catch(a){G({title:"Error",description:"Failed to delete test suite",variant:"destructive"})}},P=()=>{L({name:"",description:"",test_plan_id:"",tags:""})};return k?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Loading test suites..."})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Test Suites"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Group related test cases into organized suites"})]}),(0,b.jsxs)(f.Button,{onClick:()=>A(!0),className:"bg-primary hover:bg-primary/90",children:[(0,b.jsx)(r.Plus,{className:"w-4 h-4 mr-2"}),"New Test Suite"]})]}),0===d.length?(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(j,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No test suites yet"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first test suite to organize test cases"}),(0,b.jsxs)(f.Button,{onClick:()=>A(!0),children:[(0,b.jsx)(r.Plus,{className:"w-4 h-4 mr-2"}),"Create Test Suite"]})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(a=>(0,b.jsxs)(l.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>D(a),children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{className:"text-lg",children:a.name}),(0,b.jsx)(l.CardDescription,{className:"mt-2",children:a.description||"No description provided"})]}),(0,b.jsx)(l.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[a.test_plan_id&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(h.FileText,{className:"w-4 h-4 text-primary"}),(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:(a=>{if(!a)return null;let b=g.find(b=>b.id===a);return b?.name})(a.test_plan_id)||"Linked Test Plan"})]}),a.tags.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.tags.slice(0,3).map((a,c)=>(0,b.jsx)(p.Badge,{variant:"secondary",className:"text-xs",children:a},c)),a.tags.length>3&&(0,b.jsxs)(p.Badge,{variant:"secondary",className:"text-xs",children:["+",a.tags.length-3]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 pt-2 border-t",children:[(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)(s.Calendar,{className:"w-3 h-3 mr-1"}),(0,w.formatDateHumanReadable)(a.created_at)]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),O(a.id)},className:"hover:text-red-600",children:(0,b.jsx)(t.Trash2,{className:"w-4 h-4"})})]})]})})]},a.id))}),(0,b.jsx)(q.Dialog,{open:z,onOpenChange:A,children:(0,b.jsxs)(q.DialogContent,{className:"sm:max-w-[600px]",children:[(0,b.jsxs)(q.DialogHeader,{children:[(0,b.jsx)(q.DialogTitle,{children:"Create Test Suite"}),(0,b.jsx)(q.DialogDescription,{children:"Group related test cases into an organized suite"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"name",children:"Name *"}),(0,b.jsx)(m.Input,{id:"name",placeholder:"e.g., Login Flow Test Suite",value:K.name,onChange:a=>L({...K,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(o.Textarea,{id:"description",placeholder:"Describe the scope of this test suite",rows:3,value:K.description,onChange:a=>L({...K,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"test_plan",children:"Test Plan (optional)"}),(0,b.jsxs)(B.Select,{value:K.test_plan_id,onValueChange:a=>L({...K,test_plan_id:a}),children:[(0,b.jsx)(B.SelectTrigger,{children:(0,b.jsx)(B.SelectValue,{placeholder:"Select a test plan"})}),(0,b.jsxs)(B.SelectContent,{children:[(0,b.jsx)(B.SelectItem,{value:"",children:"None"}),g.map(a=>(0,b.jsx)(B.SelectItem,{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,b.jsx)(m.Input,{id:"tags",placeholder:"login, authentication, critical",value:K.tags,onChange:a=>L({...K,tags:a.target.value})})]})]}),(0,b.jsxs)(q.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:N,disabled:!K.name.trim(),className:"bg-primary hover:bg-primary/90",children:"Create Test Suite"})]})]})}),(0,b.jsx)(H,{testSuite:C,open:!!C,onOpenChange:a=>!a&&D(null),onViewTestCase:a=>{F(a)},readOnly:!0}),(0,b.jsx)(Q,{testCase:E,open:!!E,onOpenChange:a=>!a&&F(null),readOnly:!0}),(0,b.jsx)(J,{})]})}var S=a.i(16201),T=a.i(62722),U=a.i(92e3),V=a.i(5151),W=a.i(23292);let X={draft:"bg-gray-500",ready:"bg-blue-500",in_progress:"bg-yellow-500",passed:"bg-green-500",failed:"bg-red-500",blocked:"bg-orange-500",skipped:"bg-purple-500"},Y={low:"bg-gray-400",medium:"bg-blue-400",high:"bg-orange-400",critical:"bg-red-400"};function Z({projectId:a}){let[d,e]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[u,x]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[C,D]=(0,c.useState)(!1),{confirm:E,ConfirmDialog:F}=(0,y.useConfirm)(),[G,H]=(0,c.useState)({title:"",description:"",test_suite_id:"",priority:"medium",expected_result:"",tags:"",steps:[{step_number:1,action:"",expected_result:""}]}),[I,J]=(0,c.useState)({status:"passed",actual_result:"",execution_notes:""});(0,c.useEffect)(()=>{K()},[a]);let K=async()=>{try{j(!0);let[b,c]=await Promise.all([v.testCasesAPI.list(a),v.testSuitesAPI.list(a)]),d=[];"items"in b?d=b.items:Array.isArray(b)&&(d=b),e(d),h(c)}catch(a){W.toast.error("Failed to load test cases")}finally{j(!1)}},L=async()=>{try{let b=localStorage.getItem("user_email")||"user@cognitest.ai",c=await v.testCasesAPI.create({project_id:a,test_suite_id:G.test_suite_id?G.test_suite_id:void 0,title:G.title,description:G.description,steps:G.steps.filter(a=>a.action.trim()),expected_result:G.expected_result,priority:G.priority,tags:G.tags.split(",").map(a=>a.trim()).filter(a=>a),status:"draft",created_by:b||"user@cognitest.ai",ai_generated:!1,generated_by:"manual",execution_logs:[],attachments:[],meta_data:{}});e([c,...d]),x(!1),P(),W.toast.success("Test case created successfully")}catch(a){W.toast.error("Failed to create test case")}},N=async()=>{if(z)try{let a=await v.testCasesAPI.execute(z.id,{status:I.status||"passed",actual_result:I.actual_result,execution_notes:I.execution_notes});e(d.map(b=>b.id===z.id?a.test_case:b)),D(!1),A(null),R(),W.toast.success("Test case executed successfully")}catch(a){W.toast.error("Failed to execute test case")}},O=async a=>{if(await E({message:"Are you sure you want to delete this test case?",variant:"danger",confirmText:"Delete"}))try{await v.testCasesAPI.delete(a),e(d.filter(b=>b.id!==a)),z?.id===a&&A(null),W.toast.success("Test case deleted successfully")}catch(a){W.toast.error("Failed to delete test case")}},P=()=>{H({title:"",description:"",test_suite_id:"",priority:"medium",expected_result:"",tags:"",steps:[{step_number:1,action:"",expected_result:""}]})},R=()=>{J({status:"passed",actual_result:"",execution_notes:""})},Z=(a,b,c)=>{let d=[...G.steps];d[a]={...d[a],[b]:c},H({...G,steps:d})};return i?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Loading test cases..."})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Test Cases"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Define detailed test cases with steps and track execution"})]}),(0,b.jsxs)(f.Button,{onClick:()=>x(!0),className:"bg-primary hover:bg-primary/90",children:[(0,b.jsx)(r.Plus,{className:"w-4 h-4 mr-2"}),"New Test Case"]})]}),0===d.length?(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(k.CheckSquare,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No test cases yet"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first test case to start testing"}),(0,b.jsxs)(f.Button,{onClick:()=>x(!0),children:[(0,b.jsx)(r.Plus,{className:"w-4 h-4 mr-2"}),"Create Test Case"]})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:d.map(a=>(0,b.jsxs)(l.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsx)(l.CardHeader,{children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.status&&(0,b.jsx)(p.Badge,{className:`${X[a.status]||"bg-gray-500"} text-white text-xs`,children:a.status.replace("_"," ")}),(0,b.jsx)(p.Badge,{className:`${Y[a.priority]} text-white text-xs`,children:a.priority})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)(l.CardTitle,{className:"text-lg cursor-pointer hover:text-primary flex-1",onClick:()=>A(a),children:a.title}),a.human_id&&(0,b.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,b.jsx)("span",{className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-mono font-semibold shadow-sm",children:a.human_id}),(0,b.jsxs)("button",{type:"button",className:"inline-flex items-center gap-1 px-2 py-1 text-xs text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",onClick:b=>{b.stopPropagation(),navigator.clipboard?.writeText(a.human_id),W.toast.success("ID copied to clipboard")},title:"Copy ID",children:[(0,b.jsx)(V.Copy,{className:"w-3 h-3"}),"Copy"]})]})]}),(0,b.jsx)(l.CardDescription,{className:"mt-2",children:a.description||"No description provided"})]})})}),(0,b.jsx)(l.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[a.test_suite_id&&(0,b.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Suite: ",(a=>{if(!a)return null;let b=g.find(b=>b.id===a);return b?.name})(a.test_suite_id)]}),a.steps.length>0&&(0,b.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.steps.length," step",1!==a.steps.length?"s":""]}),a.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.slice(0,5).map((a,c)=>(0,b.jsx)(p.Badge,{variant:"secondary",className:"text-xs",children:a},c))}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,b.jsxs)("span",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,b.jsx)(s.Calendar,{className:"w-3 h-3 mr-1"}),(0,w.formatDateHumanReadable)(a.created_at)]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",onClick:()=>{A(a),D(!0)},children:[(0,b.jsx)(M.Play,{className:"w-4 h-4 mr-1"}),"Execute"]}),(0,b.jsx)("button",{onClick:()=>O(a.id),className:"text-gray-500 hover:text-red-600",children:(0,b.jsx)(t.Trash2,{className:"w-4 h-4"})})]})]})]})})]},a.id))}),(0,b.jsx)(q.Dialog,{open:u,onOpenChange:x,children:(0,b.jsxs)(q.DialogContent,{className:"sm:max-w-[700px] max-h-[85vh] overflow-y-auto",children:[(0,b.jsxs)(q.DialogHeader,{children:[(0,b.jsx)(q.DialogTitle,{children:"Create Test Case"}),(0,b.jsx)(q.DialogDescription,{children:"Define a detailed test case with steps"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"title",children:"Title *"}),(0,b.jsx)(m.Input,{id:"title",placeholder:"e.g., Test successful login with valid credentials",value:G.title,onChange:a=>H({...G,title:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(o.Textarea,{id:"description",placeholder:"Describe what this test case validates",rows:2,value:G.description,onChange:a=>H({...G,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"test_suite",children:"Test Suite (optional)"}),(0,b.jsxs)(B.Select,{value:G.test_suite_id,onValueChange:a=>H({...G,test_suite_id:a}),children:[(0,b.jsx)(B.SelectTrigger,{children:(0,b.jsx)(B.SelectValue,{placeholder:"Select suite"})}),(0,b.jsxs)(B.SelectContent,{children:[(0,b.jsx)(B.SelectItem,{value:"",children:"None"}),g.map(a=>(0,b.jsx)(B.SelectItem,{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"priority",children:"Priority"}),(0,b.jsxs)(B.Select,{value:G.priority,onValueChange:a=>H({...G,priority:a}),children:[(0,b.jsx)(B.SelectTrigger,{children:(0,b.jsx)(B.SelectValue,{})}),(0,b.jsxs)(B.SelectContent,{children:[(0,b.jsx)(B.SelectItem,{value:"low",children:"Low"}),(0,b.jsx)(B.SelectItem,{value:"medium",children:"Medium"}),(0,b.jsx)(B.SelectItem,{value:"high",children:"High"}),(0,b.jsx)(B.SelectItem,{value:"critical",children:"Critical"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(n.Label,{children:"Test Steps"}),(0,b.jsxs)(f.Button,{type:"button",size:"sm",variant:"outline",onClick:()=>{H({...G,steps:[...G.steps,{step_number:G.steps.length+1,action:"",expected_result:""}]})},children:[(0,b.jsx)(r.Plus,{className:"w-3 h-3 mr-1"}),"Add Step"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:G.steps.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-medium",children:["Step ",a.step_number]}),G.steps.length>1&&(0,b.jsx)(f.Button,{type:"button",size:"sm",variant:"ghost",onClick:()=>{let a;return a=G.steps.filter((a,b)=>b!==c),void H({...G,steps:a.map((a,b)=>({...a,step_number:b+1}))})},children:(0,b.jsx)(t.Trash2,{className:"w-3 h-3"})})]}),(0,b.jsx)(m.Input,{placeholder:"Action (e.g., Navigate to login page)",value:a.action,onChange:a=>Z(c,"action",a.target.value)}),(0,b.jsx)(m.Input,{placeholder:"Expected result (e.g., Login form is displayed)",value:a.expected_result,onChange:a=>Z(c,"expected_result",a.target.value)})]},c))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"expected_result",children:"Overall Expected Result"}),(0,b.jsx)(o.Textarea,{id:"expected_result",placeholder:"What should be the final outcome?",rows:2,value:G.expected_result,onChange:a=>H({...G,expected_result:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,b.jsx)(m.Input,{id:"tags",placeholder:"smoke-test, critical, authentication",value:G.tags,onChange:a=>H({...G,tags:a.target.value})})]})]}),(0,b.jsxs)(q.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:L,disabled:!G.title.trim()||G.steps.some(a=>!a.action.trim()),className:"bg-primary hover:bg-primary/90",children:"Create Test Case"})]})]})}),(0,b.jsx)(Q,{testCase:z&&!C?z:null,open:!!z&&!C,onOpenChange:a=>!a&&A(null),readOnly:!0}),C&&z&&(0,b.jsx)(q.Dialog,{open:C,onOpenChange:()=>{D(!1),R()},children:(0,b.jsxs)(q.DialogContent,{className:"sm:max-w-[600px]",children:[(0,b.jsxs)(q.DialogHeader,{children:[(0,b.jsx)(q.DialogTitle,{children:"Execute Test Case"}),(0,b.jsxs)(q.DialogDescription,{children:["Record the execution results for: ",z.title]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"status",children:"Status *"}),(0,b.jsxs)(B.Select,{value:I.status,onValueChange:a=>J({...I,status:a}),children:[(0,b.jsx)(B.SelectTrigger,{children:(0,b.jsx)(B.SelectValue,{})}),(0,b.jsxs)(B.SelectContent,{children:[(0,b.jsx)(B.SelectItem,{value:"passed",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(S.CheckCircle,{className:"w-4 h-4 text-green-500"}),"Passed"]})}),(0,b.jsx)(B.SelectItem,{value:"failed",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(T.XCircle,{className:"w-4 h-4 text-red-500"}),"Failed"]})}),(0,b.jsx)(B.SelectItem,{value:"blocked",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(U.AlertCircle,{className:"w-4 h-4 text-orange-500"}),"Blocked"]})}),(0,b.jsx)(B.SelectItem,{value:"skipped",children:"Skipped"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"actual_result",children:"Actual Result"}),(0,b.jsx)(o.Textarea,{id:"actual_result",placeholder:"What actually happened during execution?",rows:4,value:I.actual_result,onChange:a=>J({...I,actual_result:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"execution_notes",children:"Execution Notes"}),(0,b.jsx)(o.Textarea,{id:"execution_notes",placeholder:"Any additional notes or observations",rows:3,value:I.execution_notes,onChange:a=>J({...I,execution_notes:a.target.value})})]})]}),(0,b.jsxs)(q.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{D(!1),R()},children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:N,className:"bg-primary hover:bg-primary/90",children:"Save Execution"})]})]})}),(0,b.jsx)(F,{})]})}function $(){let[a,i]=(0,c.useState)("plans"),[l,m]=(0,c.useState)(null);return((0,c.useEffect)(()=>{let a=localStorage.getItem("current_project_id");a&&m(a)},[]),l)?(0,b.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-brand-50 via-white to-accent-50 dark:bg-gray-900",children:[(0,b.jsx)(d.Sidebar,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen",children:[(0,b.jsx)("header",{className:"bg-white/80 backdrop-blur-sm dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10",children:(0,b.jsx)("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:(0,b.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,b.jsx)("div",{className:"flex items-center gap-4 lg:ml-0 ml-12",children:(0,b.jsx)("h1",{className:"text-2xl font-semibold text-primary",children:"Test Management"})}),(0,b.jsx)(e.UserNav,{})]})})}),(0,b.jsx)("main",{className:"flex-1 w-full px-6 sm:px-8 lg:px-12 py-8",children:(0,b.jsxs)(g.Tabs,{value:a,onValueChange:i,className:"w-full",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,b.jsxs)(g.TabsList,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)(g.TabsTrigger,{value:"plans",className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[(0,b.jsx)(h.FileText,{className:"w-4 h-4 mr-2"}),"Test Plans"]}),(0,b.jsxs)(g.TabsTrigger,{value:"suites",className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[(0,b.jsx)(j,{className:"w-4 h-4 mr-2"}),"Test Suites"]}),(0,b.jsxs)(g.TabsTrigger,{value:"cases",className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[(0,b.jsx)(k.CheckSquare,{className:"w-4 h-4 mr-2"}),"Test Cases"]})]})}),(0,b.jsx)(g.TabsContent,{value:"plans",className:"mt-0",children:(0,b.jsx)(A,{projectId:l})}),(0,b.jsx)(g.TabsContent,{value:"suites",className:"mt-0",children:(0,b.jsx)(R,{projectId:l})}),(0,b.jsx)(g.TabsContent,{value:"cases",className:"mt-0",children:(0,b.jsx)(Z,{projectId:l})})]})})]})]}):(0,b.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-brand-50 via-white to-accent-50 dark:bg-gray-900",children:[(0,b.jsx)(d.Sidebar,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen",children:[(0,b.jsx)("header",{className:"bg-white/80 backdrop-blur-sm dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10",children:(0,b.jsx)("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:(0,b.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,b.jsx)("div",{className:"flex items-center gap-4 lg:ml-0 ml-12",children:(0,b.jsx)("h1",{className:"text-2xl font-semibold text-primary",children:"CogniTest"})}),(0,b.jsx)(e.UserNav,{})]})})}),(0,b.jsx)("main",{className:"flex-1 w-full px-6 sm:px-8 lg:px-12 py-8 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"No Project Selected"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Please select a project to manage tests"}),(0,b.jsx)(f.Button,{onClick:()=>window.location.href="/projects",children:"Go to Projects"})]})})]})]})}a.s(["default",()=>$],87140)}];

//# sourceMappingURL=frontend_app_test-management_page_tsx_39fd6da6._.js.map