{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Applications/TestingHub/testingHub/Cognitest-AI/frontend/app/organizations/new/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useAuth } from '@/lib/auth-context'\nimport { toast } from 'sonner'\nimport api from '@/lib/api'\n\nexport default function CreateOrganisationPage() {\n  const [name, setName] = useState('')\n  const [website, setWebsite] = useState('')\n  const [nameError, setNameError] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const router = useRouter()\n  const { user } = useAuth()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!name.trim()) {\n      setNameError(true)\n      return\n    }\n\n    setLoading(true)\n    setNameError(false)\n\n    try {\n      const response = await api.post(\n        '/api/v1/organisations/',\n        {\n          name: name.trim(),\n          website: website.trim() || null,\n          description: null\n        }\n      )\n\n      // Store current organization\n      localStorage.setItem('current_organisation', JSON.stringify(response.data))\n\n      toast.success('Organization created successfully!')\n\n      // Redirect to projects with organization UUID\n      router.push(`/organizations/${response.data.id}/projects`)\n    } catch (error: any) {\n      console.error('Error creating organisation:', error)\n      toast.error(error.response?.data?.detail || 'Failed to create organization')\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col\">\n      {/* Logo/Header */}\n      <div className=\"px-6 py-6 border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-800\">\n        <div className=\"text-2xl font-bold text-gray-900 dark:text-white\">CogniTest</div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex items-center justify-center px-6 py-12\">\n        <div className=\"w-full max-w-md\">\n          {/* Title */}\n          <h1 className=\"text-4xl font-bold text-gray-900 dark:text-white mb-3\">\n            Let's create an organization\n          </h1>\n\n          {/* Subtitle */}\n          <p className=\"text-gray-600 dark:text-gray-400 mb-8\">\n            This organization will be the workspace for your company or team\n          </p>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Organization Name */}\n            <div>\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-900 dark:text-white mb-2\">\n                Organization name\n              </label>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3\">\n                It's best to use your company or team name\n              </p>\n              <input\n                type=\"text\"\n                id=\"name\"\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value)\n                  setNameError(false)\n                }}\n                placeholder=\"\"\n                className={`w-full px-4 py-3 rounded-lg border ${\n                  nameError\n                    ? 'border-red-500 focus:ring-red-500'\n                    : 'border-gray-300 dark:border-gray-600 focus:ring-teal-500'\n                } dark:bg-gray-800 dark:text-white focus:outline-none focus:ring-2 transition-colors`}\n              />\n              {nameError && (\n                <p className=\"text-red-500 text-sm mt-2\">Organization name is required</p>\n              )}\n            </div>\n\n            {/* Website */}\n            <div>\n              <label htmlFor=\"website\" className=\"block text-sm font-medium text-gray-900 dark:text-white mb-2\">\n                Organization website <span className=\"text-gray-400\">(optional)</span>\n              </label>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3\">\n                This helps us validate your organization\n              </p>\n              <input\n                type=\"url\"\n                id=\"website\"\n                value={website}\n                onChange={(e) => setWebsite(e.target.value)}\n                placeholder=\"\"\n                className=\"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors\"\n              />\n            </div>\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full px-6 py-3 rounded-lg bg-teal-600 hover:bg-teal-700 text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-8\"\n            >\n              {loading ? 'Creating organization...' : 'Create organization'}\n            </button>\n          </form>\n\n          {/* Back Link */}\n          <div className=\"mt-8 text-center\">\n            <button\n              onClick={() => router.push('/organizations')}\n              className=\"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 text-sm font-medium\"\n            >\n              Back to your organization list\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,iJAAO;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,KAAK,IAAI,IAAI;YAChB,aAAa;YACb;QACF;QAEA,WAAW;QACX,aAAa;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,6IAAG,CAAC,IAAI,CAC7B,0BACA;gBACE,MAAM,KAAK,IAAI;gBACf,SAAS,QAAQ,IAAI,MAAM;gBAC3B,aAAa;YACf;YAGF,6BAA6B;YAC7B,aAAa,OAAO,CAAC,wBAAwB,KAAK,SAAS,CAAC,SAAS,IAAI;YAEzE,oJAAK,CAAC,OAAO,CAAC;YAEd,8CAA8C;YAC9C,OAAO,IAAI,CAAC,CAAC,eAAe,EAAE,SAAS,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;QAC3D,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,oJAAK,CAAC,KAAK,CAAC,MAAM,QAAQ,EAAE,MAAM,UAAU;YAC5C,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BAAmD;;;;;;;;;;;0BAIpE,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAG,WAAU;sCAAwD;;;;;;sCAKtE,6LAAC;4BAAE,WAAU;sCAAwC;;;;;;sCAKrD,6LAAC;4BAAK,UAAU;4BAAc,WAAU;;8CAEtC,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAO,WAAU;sDAA+D;;;;;;sDAG/F,6LAAC;4CAAE,WAAU;sDAAgD;;;;;;sDAG7D,6LAAC;4CACC,MAAK;4CACL,IAAG;4CACH,OAAO;4CACP,UAAU,CAAC;gDACT,QAAQ,EAAE,MAAM,CAAC,KAAK;gDACtB,aAAa;4CACf;4CACA,aAAY;4CACZ,WAAW,CAAC,mCAAmC,EAC7C,YACI,sCACA,2DACL,mFAAmF,CAAC;;;;;;wCAEtF,2BACC,6LAAC;4CAAE,WAAU;sDAA4B;;;;;;;;;;;;8CAK7C,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAU,WAAU;;gDAA+D;8DAC3E,6LAAC;oDAAK,WAAU;8DAAgB;;;;;;;;;;;;sDAEvD,6LAAC;4CAAE,WAAU;sDAAgD;;;;;;sDAG7D,6LAAC;4CACC,MAAK;4CACL,IAAG;4CACH,OAAO;4CACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;4CAC1C,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAKd,6LAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,UAAU,6BAA6B;;;;;;;;;;;;sCAK5C,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,SAAS,IAAM,OAAO,IAAI,CAAC;gCAC3B,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAtIwB;;QAKP,kJAAS;QACP,iJAAO;;;KANF","debugId":null}}]
}