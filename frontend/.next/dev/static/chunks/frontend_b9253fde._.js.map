{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Applications/TestingHub/testingHub/Cognitest-AI/frontend/components/layout/sidebar.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport {\n  LayoutDashboard,\n  ClipboardList,\n  Code,\n  Shield,\n  Zap,\n  Workflow,\n  ChevronLeft,\n  Menu,\n  FolderOpen,\n  BarChart3,\n  CreditCard,\n  Users,\n  Puzzle,\n  ChevronDown,\n  Building2,\n  Plus,\n  User,\n  Settings,\n  HelpCircle,\n  LogOut,\n  Check\n} from 'lucide-react'\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useAuth } from '@/lib/auth-context'\nimport api from '@/lib/api'\nimport { toast } from 'sonner'\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\n\ninterface SidebarProps {\n  organisationId?: string\n  projectId?: string\n}\n\nconst getMainMenuItems = (organisationId?: string, isOwner?: boolean) => {\n  const allItems = [\n    {\n      name: 'Projects',\n      href: organisationId ? `/organizations/${organisationId}/projects` : '/projects',\n      icon: FolderOpen,\n      iconColor: 'text-blue-600',\n      bgColor: 'bg-blue-50',\n      allowMember: true, // Members can see this\n    },\n    {\n      name: 'Enterprise Reporting',\n      href: organisationId ? `/organizations/${organisationId}/enterprise-reporting` : '/enterprise-reporting',\n      icon: BarChart3,\n      iconColor: 'text-purple-600',\n      bgColor: 'bg-purple-50',\n      allowMember: false, // Only owners\n    },\n    {\n      name: 'Billing & Usage',\n      href: organisationId ? `/organizations/${organisationId}/billing` : '/billing',\n      icon: CreditCard,\n      iconColor: 'text-green-600',\n      bgColor: 'bg-green-50',\n      allowMember: false, // Only owners\n    },\n    {\n      name: 'Users & Teams',\n      href: organisationId ? `/organizations/${organisationId}/users-teams` : '/users-teams',\n      icon: Users,\n      iconColor: 'text-orange-600',\n      bgColor: 'bg-orange-50',\n      allowMember: false, // Only owners\n    },\n    {\n      name: 'Integrations',\n      href: organisationId ? `/organizations/${organisationId}/integrations` : '/integrations',\n      icon: Puzzle,\n      iconColor: 'text-pink-600',\n      bgColor: 'bg-pink-50',\n      allowMember: false, // Only owners\n    },\n    {\n      name: 'Settings',\n      href: organisationId ? `/organizations/${organisationId}/settings` : '/settings',\n      icon: Settings,\n      iconColor: 'text-gray-600',\n      bgColor: 'bg-gray-50',\n      allowMember: false, // Only owners\n    },\n  ]\n\n  // Filter items based on user role\n  if (isOwner) {\n    return allItems\n  } else {\n    // Members only see items where allowMember is true\n    return allItems.filter(item => item.allowMember)\n  }\n}\n\nconst otherMenuItems = []\n\ninterface Organisation {\n  id: string\n  name: string\n  website?: string\n  description?: string\n  owner_id: string\n  created_at: string\n  updated_at?: string\n}\n\nexport function Sidebar({ organisationId, projectId }: SidebarProps) {\n  const pathname = usePathname()\n  const router = useRouter()\n  const { user, logout } = useAuth()\n  const [isCollapsed, setIsCollapsed] = useState(false)\n  const [isMobileOpen, setIsMobileOpen] = useState(false)\n  const [currentOrganisation, setCurrentOrganisation] = useState<Organisation | null>(null)\n  const [organisations, setOrganisations] = useState<Organisation[]>([])\n  const [isProfileOpen, setIsProfileOpen] = useState(false)\n  const [isOwner, setIsOwner] = useState(false)\n\n  useEffect(() => {\n    const currentOrg = localStorage.getItem('current_organisation')\n    if (currentOrg) {\n      try {\n        setCurrentOrganisation(JSON.parse(currentOrg))\n      } catch (error) {\n        console.error('Failed to parse organisation from localStorage', error)\n      }\n    }\n    if (user) {\n      fetchOrganisations()\n    }\n  }, [user])\n\n  // Check if current user is the owner of the organization\n  useEffect(() => {\n    if (user && currentOrganisation) {\n      setIsOwner(currentOrganisation.owner_id === user.id)\n    }\n  }, [user, currentOrganisation])\n\n  const fetchOrganisations = async () => {\n    if (!user) return\n    try {\n      const response = await api.get('/api/v1/organisations/')\n      setOrganisations(response.data)\n    } catch (error) {\n      console.error('Failed to fetch organisations:', error)\n    }\n  }\n\n  const switchOrganisation = (org: Organisation) => {\n    setCurrentOrganisation(org)\n    localStorage.setItem('current_organisation', JSON.stringify(org))\n    window.dispatchEvent(new CustomEvent('organisationChanged', { detail: org }))\n    setIsProfileOpen(false)\n    // Refetch organizations after switching\n    setTimeout(() => fetchOrganisations(), 100)\n    router.push(`/organizations/${org.id}/projects`)\n  }\n\n  return (\n    <>\n      {/* Mobile Menu Button */}\n      <button\n        onClick={() => setIsMobileOpen(!isMobileOpen)}\n        className=\"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700\"\n      >\n        <Menu className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n      </button>\n\n      {/* Mobile Overlay */}\n      {isMobileOpen && (\n        <div\n          className=\"lg:hidden fixed inset-0 bg-black/50 z-40\"\n          onClick={() => setIsMobileOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside\n        className={`\n          fixed lg:sticky top-0 left-0 h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-40 transition-all duration-300\n          ${isCollapsed ? 'lg:w-20' : 'lg:w-64'}\n          ${isMobileOpen ? 'translate-x-0 w-64' : '-translate-x-full lg:translate-x-0'}\n        `}\n      >\n        <div className=\"flex flex-col h-full\">\n          {/* Profile Section */}\n          {!isCollapsed && user && currentOrganisation && (\n            <div className=\"p-4 relative\">\n              {/* Main Profile Button */}\n              <button\n                onClick={() => {\n                  setIsProfileOpen(!isProfileOpen)\n                  if (!isProfileOpen) {\n                    // Refetch organizations when opening the profile menu\n                    fetchOrganisations()\n                  }\n                }}\n                className={`w-full flex items-center gap-3 p-3 rounded-lg transition-all ${\n                  isProfileOpen\n                    ? 'border border-primary bg-primary/5 dark:bg-primary/10'\n                    : 'border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700'\n                }`}\n              >\n                <div className=\"w-10 h-10 rounded-full bg-primary flex items-center justify-center flex-shrink-0\">\n                  <span className=\"text-sm font-semibold text-white\">\n                    {currentOrganisation.name.substring(0, 2).toUpperCase()}\n                  </span>\n                </div>\n                <div className=\"flex-1 min-w-0 text-left\">\n                  <p className=\"text-sm font-semibold text-gray-900 dark:text-white leading-tight line-clamp-1\">\n                    {currentOrganisation.name}\n                  </p>\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mt-0.5\">\n                    {user.username}\n                  </p>\n                </div>\n                <ChevronDown\n                  className={`w-4 h-4 text-gray-400 flex-shrink-0 transition-transform ${\n                    isProfileOpen ? 'rotate-180' : ''\n                  }`}\n                />\n              </button>\n\n              {/* Profile Dropdown Details - Overlay */}\n              {isProfileOpen && (\n                <div className=\"absolute top-24 left-4 right-4 p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-lg space-y-4 z-50\">\n                  {/* Organisations Section */}\n                  <div className=\"space-y-2\">\n                    <h3 className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">\n                      Organisations ({organisations.length})\n                    </h3>\n                    <div className=\"space-y-2 max-h-40 overflow-y-auto\">\n                      {organisations.map((org) => (\n                        <button\n                          key={org.id}\n                          onClick={() => switchOrganisation(org)}\n                          className=\"w-full flex items-center gap-2 p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-left\"\n                        >\n                          <Building2 className=\"w-4 h-4 text-gray-600 dark:text-gray-400 flex-shrink-0\" />\n                          <span className=\"text-sm text-gray-900 dark:text-white flex-1 truncate\">\n                            {org.name}\n                          </span>\n                          {currentOrganisation?.id === org.id && (\n                            <Check className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                          )}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Add Organisation - Only show for owners */}\n                  {isOwner && (\n                    <>\n                      <hr className=\"border-gray-200 dark:border-gray-700\" />\n                      <button\n                        onClick={() => {\n                          router.push('/organizations/new')\n                          setIsProfileOpen(false)\n                        }}\n                        className=\"w-full flex items-center gap-3 p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-left\"\n                      >\n                        <Plus className=\"w-4 h-4 text-gray-600 dark:text-gray-400\" />\n                        <span className=\"text-sm text-gray-900 dark:text-white\">Add Organisation</span>\n                      </button>\n                    </>\n                  )}\n\n                  <hr className=\"border-gray-200 dark:border-gray-700\" />\n\n                  {/* Edit Profile */}\n                  <button\n                    onClick={() => {\n                      router.push('/profile/edit')\n                      setIsProfileOpen(false)\n                    }}\n                    className=\"w-full flex items-center gap-3 p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-left\"\n                  >\n                    <User className=\"w-4 h-4 text-gray-600 dark:text-gray-400\" />\n                    <span className=\"text-sm text-gray-900 dark:text-white\">Edit profile</span>\n                  </button>\n\n                  {/* Account Settings */}\n                  <button\n                    onClick={() => {\n                      router.push('/account/settings')\n                      setIsProfileOpen(false)\n                    }}\n                    className=\"w-full flex items-center gap-3 p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-left\"\n                  >\n                    <Settings className=\"w-4 h-4 text-gray-600 dark:text-gray-400\" />\n                    <span className=\"text-sm text-gray-900 dark:text-white\">Account settings</span>\n                  </button>\n\n                  {/* Support */}\n                  <button\n                    onClick={() => {\n                      router.push('/support')\n                      setIsProfileOpen(false)\n                    }}\n                    className=\"w-full flex items-center gap-3 p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-left\"\n                  >\n                    <HelpCircle className=\"w-4 h-4 text-gray-600 dark:text-gray-400\" />\n                    <span className=\"text-sm text-gray-900 dark:text-white\">Support</span>\n                  </button>\n\n                  <hr className=\"border-gray-200 dark:border-gray-700\" />\n\n                  {/* Sign Out */}\n                  <button\n                    onClick={() => {\n                      logout()\n                      setIsProfileOpen(false)\n                    }}\n                    className=\"w-full flex items-center gap-3 p-2 rounded-md hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors text-left\"\n                  >\n                    <LogOut className=\"w-4 h-4 text-red-600 dark:text-red-400\" />\n                    <span className=\"text-sm text-red-600 dark:text-red-400 font-medium\">Sign out</span>\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Close profile dropdown when clicking outside */}\n          {isProfileOpen && (\n            <div\n              className=\"fixed inset-0 z-40\"\n              onClick={() => setIsProfileOpen(false)}\n            />\n          )}\n\n          {/* Navigation */}\n          <nav className=\"flex-1 overflow-y-auto py-6 px-3\">\n            <div className=\"space-y-1 mb-6\">\n              {getMainMenuItems(currentOrganisation?.id, isOwner).map((item) => {\n                const isActive = pathname === item.href\n                const Icon = item.icon\n\n                return (\n                  <Link\n                    key={item.name}\n                    href={item.href}\n                    onClick={() => setIsMobileOpen(false)}\n                    className={`\n                      flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group\n                      ${\n                        isActive\n                          ? `${item.bgColor} text-gray-900 dark:text-white`\n                          : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                      }\n                      ${isCollapsed ? 'justify-center' : ''}\n                    `}\n                  >\n                    <Icon\n                      className={`w-5 h-5 flex-shrink-0 ${item.iconColor}`}\n                    />\n                    {!isCollapsed && (\n                      <span className=\"font-medium text-sm\">{item.name}</span>\n                    )}\n                  </Link>\n                )\n              })}\n            </div>\n\n          </nav>\n\n          {/* Footer - Project Info */}\n          {!isCollapsed && projectId && (\n            <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\n              <div className=\"text-xs text-gray-500 dark:text-gray-400 mb-1\">\n                Current Project\n              </div>\n              <div className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">\n                Project Name\n              </div>\n            </div>\n          )}\n        </div>\n      </aside>\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":["file:///Applications/TestingHub/testingHub/Cognitest-AI/frontend/components/projects/create-project-modal.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { X, FolderOpen } from 'lucide-react'\nimport { toast } from 'sonner'\nimport api from '@/lib/api'\nimport { useAuth } from '@/lib/auth-context'\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\n\ninterface CreateProjectModalProps {\n  isOpen: boolean\n  onClose: () => void\n  organisationId: string\n  onProjectCreated: () => void\n}\n\nexport function CreateProjectModal({\n  isOpen,\n  onClose,\n  organisationId,\n  onProjectCreated,\n}: CreateProjectModalProps) {\n  const { user } = useAuth()\n  const [projectName, setProjectName] = useState('')\n  const [projectDescription, setProjectDescription] = useState('')\n  const [selectedModules, setSelectedModules] = useState<string[]>([])\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  if (!isOpen) return null\n\n  const modules = [\n    { id: 'test-management', name: 'Test Management', color: 'blue' },\n    { id: 'api-testing', name: 'API Testing', color: 'green' },\n    { id: 'automation-hub', name: 'Automation Hub', color: 'purple' },\n    { id: 'security-testing', name: 'Security Testing', color: 'red' },\n    { id: 'performance-testing', name: 'Performance Testing', color: 'yellow' },\n    { id: 'mobile-testing', name: 'Mobile Testing', color: 'indigo' },\n  ]\n\n  const toggleModule = (moduleId: string) => {\n    setSelectedModules(prev =>\n      prev.includes(moduleId)\n        ? prev.filter(id => id !== moduleId)\n        : [...prev, moduleId]\n    )\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!projectName.trim()) {\n      toast.error('Project name is required')\n      return\n    }\n\n    if (!user) {\n      toast.error('User not authenticated')\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      const payload = {\n        name: projectName.trim(),\n        owner_id: user.id,\n        organisation_id: organisationId,\n        status: 'active',\n        description: projectDescription.trim(),\n        team_ids: [],\n        settings: {\n          enabled_modules: selectedModules,\n        },\n      }\n\n      console.log('Creating project with payload:', payload)\n\n      const response = await api.post('/api/v1/projects/', payload)\n\n      console.log('Project created successfully:', response.data)\n      toast.success('Project created successfully!')\n      setProjectName('')\n      setProjectDescription('')\n      setSelectedModules([])\n      onProjectCreated()\n      onClose()\n    } catch (error: any) {\n      console.error('Failed to create project:', error)\n      console.error('Error response:', error.response?.data)\n      const errorDetail = error.response?.data?.detail\n      const errorMessage = Array.isArray(errorDetail)\n        ? errorDetail.map((e: any) => `${e.loc.join('.')}: ${e.msg}`).join(', ')\n        : errorDetail || 'Failed to create project'\n      toast.error(errorMessage)\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Overlay */}\n      <div\n        className=\"absolute inset-0 bg-black/50\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div className=\"relative bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col overflow-hidden\">\n        {/* Header */}\n        <div className=\"text-center pt-12 pb-8 px-8 flex-shrink-0\">\n          <h2 className=\"text-3xl font-semibold text-gray-900 mb-3\">\n            Create a new project\n          </h2>\n          <p className=\"text-base text-gray-600\">\n            Projects help you organize and manage your test plans, test suites, and test cases in one place.\n          </p>\n        </div>\n\n        {/* Form - Scrollable */}\n        <form id=\"create-project-form\" onSubmit={handleSubmit} className=\"px-8 overflow-y-auto flex-1\">\n          <div className=\"bg-white border border-gray-200 rounded-lg p-8 space-y-6\">\n            {/* Project Name */}\n            <div>\n              <label className=\"block text-base font-semibold text-gray-900 mb-2\">\n                Project Name *\n              </label>\n              <div className=\"relative\">\n                <FolderOpen className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={projectName}\n                  onChange={(e) => setProjectName(e.target.value)}\n                  placeholder=\"e.g., Payroll Platform\"\n                  className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                  disabled={isSubmitting}\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Project Description */}\n            <div>\n              <label className=\"block text-base font-semibold text-gray-900 mb-2\">\n                Description\n              </label>\n              <textarea\n                value={projectDescription}\n                onChange={(e) => setProjectDescription(e.target.value)}\n                placeholder=\"Brief description of your project...\"\n                rows={3}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none\"\n                disabled={isSubmitting}\n              />\n            </div>\n\n            {/* Testing Modules */}\n            <div>\n              <label className=\"block text-base font-semibold text-gray-900 mb-3\">\n                Select Testing Modules\n              </label>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Choose which testing capabilities you want to enable for this project\n              </p>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {modules.map((module) => {\n                  const isSelected = selectedModules.includes(module.id)\n                  const colorClasses = {\n                    blue: 'border-blue-200 bg-blue-50 text-blue-700',\n                    green: 'border-green-200 bg-green-50 text-green-700',\n                    purple: 'border-purple-200 bg-purple-50 text-purple-700',\n                    red: 'border-red-200 bg-red-50 text-red-700',\n                    yellow: 'border-yellow-200 bg-yellow-50 text-yellow-700',\n                    indigo: 'border-indigo-200 bg-indigo-50 text-indigo-700',\n                  }\n\n                  return (\n                    <button\n                      key={module.id}\n                      type=\"button\"\n                      onClick={() => toggleModule(module.id)}\n                      disabled={isSubmitting}\n                      className={`\n                        relative p-4 rounded-lg border-2 text-left transition-all\n                        ${isSelected\n                          ? colorClasses[module.color as keyof typeof colorClasses]\n                          : 'border-gray-200 bg-white text-gray-700 hover:border-gray-300'\n                        }\n                      `}\n                    >\n                      <div className=\"flex items-start gap-3\">\n                        <div className={`\n                          mt-0.5 w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0\n                          ${isSelected ? 'bg-current border-current' : 'border-gray-300'}\n                        `}>\n                          {isSelected && (\n                            <svg className=\"w-3 h-3 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                            </svg>\n                          )}\n                        </div>\n                        <span className=\"text-sm font-medium\">{module.name}</span>\n                      </div>\n                    </button>\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n\n        </form>\n\n        {/* Footer - Fixed at bottom */}\n        <div className=\"flex justify-end gap-3 pt-6 pb-6 px-8 bg-gray-50 border-t border-gray-200 flex-shrink-0\">\n          <button\n            type=\"button\"\n            onClick={onClose}\n            disabled={isSubmitting}\n            className=\"px-5 py-2.5 text-sm font-medium text-primary hover:text-primary/80 transition-colors disabled:opacity-50\"\n          >\n            Back\n          </button>\n          <button\n            type=\"submit\"\n            form=\"create-project-form\"\n            disabled={isSubmitting || !projectName.trim()}\n            className=\"px-5 py-2.5 bg-primary hover:opacity-90 text-white rounded-lg text-sm font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\n          >\n            {isSubmitting ? 'Creating...' : 'Create project'}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1010, "column": 0}, "map": {"version":3,"sources":["file:///Applications/TestingHub/testingHub/Cognitest-AI/frontend/app/organizations/%5Buuid%5D/projects/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, use } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { Sidebar } from '@/components/layout/sidebar'\nimport { CreateProjectModal } from '@/components/projects/create-project-modal'\nimport api from '@/lib/api'\nimport { toast } from 'sonner'\nimport { formatDateHumanReadable } from '@/lib/date-utils'\nimport { Search, Plus, FolderOpen, MoreVertical, GitBranch, CheckCircle2, AlertCircle, Clock } from 'lucide-react'\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\n\ninterface Project {\n  id: string\n  name: string\n  description?: string\n  status?: 'ACTIVE' | 'ARCHIVED' | 'PAUSED'\n  created_at?: string\n  settings?: {\n    enabled_modules?: string[]\n  }\n}\n\ninterface PageParams {\n  uuid: string\n}\n\nconst moduleConfig = {\n  'test-management': { name: 'Test Management', color: 'blue' },\n  'api-testing': { name: 'API Testing', color: 'green' },\n  'automation-hub': { name: 'Automation Hub', color: 'purple' },\n  'security-testing': { name: 'Security Testing', color: 'red' },\n  'performance-testing': { name: 'Performance Testing', color: 'yellow' },\n  'mobile-testing': { name: 'Mobile Testing', color: 'indigo' },\n} as const\n\nexport default function ProjectsPage({ params }: { params: Promise<PageParams> }) {\n  const router = useRouter()\n  const [projects, setProjects] = useState<Project[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false)\n  const { uuid } = use(params)\n\n  useEffect(() => {\n    fetchProjects()\n  }, [uuid])\n\n  const fetchProjects = async () => {\n    try {\n      const response = await api.get(`/api/v1/projects/?organisation_id=${uuid}`)\n      setProjects(response.data)\n    } catch (error: any) {\n      console.error('Failed to fetch projects:', error)\n\n      // Handle different error scenarios\n      if (error.response?.status === 404) {\n        toast.error('You do not have access to this organization')\n      } else if (error.response?.status === 403) {\n        toast.error('You do not have permission to view projects')\n      } else {\n        toast.error('Failed to load projects')\n      }\n\n      // Set empty array so UI shows \"No projects\" instead of error\n      setProjects([])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const filteredProjects = projects.filter((project) =>\n    project.name.toLowerCase().includes(searchQuery.toLowerCase())\n  )\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen\">\n        <Sidebar organisationId={uuid} />\n        <div className=\"flex-1 flex items-center justify-center bg-white\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">Loading projects...</p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-white\">\n      <Sidebar organisationId={uuid} />\n      <main className=\"flex-1 overflow-auto\">\n        {/* Header */}\n        <div className=\"px-8 py-8\">\n          <div className=\"flex items-center gap-4 mb-2\">\n            <div className=\"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center flex-shrink-0\">\n              <FolderOpen className=\"w-8 h-8 text-white\" />\n            </div>\n            <h1 className=\"text-4xl font-bold text-gray-900\">Projects</h1>\n          </div>\n          <p className=\"text-lg text-gray-600 mt-4\">Create and manage your testing projects</p>\n        </div>\n\n        <div className=\"px-8 py-6\">\n          {/* Search and New Project Button */}\n          <div className=\"flex items-center gap-4 mb-8\">\n            <div className=\"flex-1 flex items-center gap-3 px-4 py-3 border border-gray-200 rounded-lg\">\n              <Search className=\"w-4 h-4 text-gray-400 flex-shrink-0\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search projects\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"flex-1 text-sm bg-transparent border-0 text-gray-900 placeholder-gray-400 outline-none\"\n              />\n              <div className=\"text-sm text-gray-400 whitespace-nowrap\">\n                {filteredProjects.length} project{filteredProjects.length !== 1 ? 's' : ''}\n              </div>\n            </div>\n            <button\n              onClick={() => setIsCreateModalOpen(true)}\n              className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary hover:opacity-90 text-white rounded-lg text-sm font-medium transition-all shadow-sm hover:shadow-md\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              New project\n            </button>\n          </div>\n\n          {/* Projects Grid */}\n          {filteredProjects.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <FolderOpen className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\n              <h3 className=\"text-base font-medium text-gray-900 mb-1\">\n                {searchQuery ? 'No projects found' : 'No projects yet'}\n              </h3>\n              <p className=\"text-sm text-gray-500 mb-4\">\n                {searchQuery ? 'Try adjusting your search' : 'Create your first project to get started'}\n              </p>\n              {!searchQuery && (\n                <button\n                  onClick={() => setIsCreateModalOpen(true)}\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary hover:opacity-90 text-white rounded-lg text-sm font-medium transition-all shadow-sm hover:shadow-md\"\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  Create project\n                </button>\n              )}\n            </div>\n          ) : (\n            <div className=\"grid gap-5 md:grid-cols-2\">\n              {filteredProjects.map((project) => (\n                <div\n                  key={project.id}\n                  className=\"bg-white border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200 overflow-hidden group cursor-pointer\"\n                  onClick={() => router.push(`/organizations/${uuid}/projects/${project.id}`)}\n                >\n                  {/* Project Header */}\n                  <div className=\"p-6\">\n                    <div className=\"flex items-start justify-between mb-4\">\n                      <div className=\"flex-1\">\n                        <h2 className=\"text-lg font-semibold text-gray-900 hover:text-primary mb-1 transition-colors\">\n                          {project.name}\n                        </h2>\n                        {project.description && (\n                          <p className=\"text-sm text-gray-500\">\n                            {project.description}\n                          </p>\n                        )}\n                      </div>\n                      <button className=\"p-1.5 hover:bg-gray-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100\">\n                        <MoreVertical className=\"w-4 h-4 text-gray-400\" />\n                      </button>\n                    </div>\n\n                    {/* Module Badges */}\n                    {project.settings?.enabled_modules && project.settings.enabled_modules.length > 0 && (\n                      <div className=\"flex flex-wrap gap-2 mb-4\">\n                        {project.settings.enabled_modules.map((moduleId) => {\n                          const module = moduleConfig[moduleId as keyof typeof moduleConfig]\n                          if (!module) return null\n\n                          const colorClasses = {\n                            blue: 'bg-blue-50 text-blue-700',\n                            green: 'bg-green-50 text-green-700',\n                            purple: 'bg-purple-50 text-purple-700',\n                            red: 'bg-red-50 text-red-700',\n                            yellow: 'bg-yellow-50 text-yellow-700',\n                            indigo: 'bg-indigo-50 text-indigo-700',\n                          }\n\n                          return (\n                            <span\n                              key={moduleId}\n                              className={`px-2 py-1 text-xs font-medium rounded ${colorClasses[module.color as keyof typeof colorClasses]}`}\n                            >\n                              {module.name}\n                            </span>\n                          )\n                        })}\n                      </div>\n                    )}\n\n                    {/* Statistics */}\n                    <div className=\"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100\">\n                      <div>\n                        <div className=\"text-sm text-gray-500\">Total Artifacts</div>\n                        <div className=\"text-2xl font-semibold text-gray-900 mt-1\">0</div>\n                      </div>\n                      <div>\n                        <div className=\"text-sm text-gray-500\">Last Updated</div>\n                        <div className=\"text-sm text-gray-900 mt-1\">\n                          {project.created_at\n                            ? new Date(project.created_at).toLocaleDateString()\n                            : 'Just now'\n                          }\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Quick Action */}\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        router.push(`/organizations/${uuid}/projects/${project.id}`)\n                      }}\n                      className=\"w-full mt-4 py-2.5 px-4 bg-primary/5 hover:bg-primary/10 text-primary text-sm font-medium rounded-lg transition-colors\"\n                    >\n                      Open Project â†’\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* Create Project Modal */}\n      <CreateProjectModal\n        isOpen={isCreateModalOpen}\n        onClose={() => setIsCreateModalOpen(false)}\n        organisationId={uuid}\n        onProjectCreated={fetchProjects}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}