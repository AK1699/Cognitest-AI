{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Applications/TestingHub/testingHub/Cognitest-AI/frontend/app/organisations/new/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useAuth } from '@/lib/auth-context'\nimport { toast } from 'sonner'\nimport api from '@/lib/api'\nimport { ArrowLeft } from 'lucide-react'\nimport Link from 'next/link'\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\n\nexport default function CreateOrganisationPage() {\n  const [name, setName] = useState('')\n  const [website, setWebsite] = useState('')\n  const [nameError, setNameError] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const router = useRouter()\n  const { user } = useAuth()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!name.trim()) {\n      setNameError(true)\n      return\n    }\n\n    setLoading(true)\n    setNameError(false)\n\n    try {\n      const response = await api.post(\n        '/api/v1/organisations/',\n        {\n          name: name.trim(),\n          website: website.trim() || null,\n          description: null\n        }\n      )\n\n      // Store current organization\n      localStorage.setItem('current_organisation', JSON.stringify(response.data))\n\n      toast.success('Organization created successfully!')\n\n      // Redirect to projects with organization UUID\n      router.push(`/organizations/${response.data.id}/projects`)\n    } catch (error: any) {\n      console.error('Error creating organisation:', error)\n      toast.error(error.response?.data?.detail || 'Failed to create organization')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-brand-50 via-white to-accent-50 text-gray-900\">\n      {/* Header */}\n      <header className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-10\">\n        <div className=\"w-full px-6 sm:px-8 lg:px-12\">\n          <div className=\"flex items-center h-16\">\n            <Link\n              href=\"/organizations\"\n              className=\"p-2 text-gray-500 hover:text-gray-900 transition-colors rounded-lg hover:bg-accent/10\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"flex items-center justify-center px-4 py-16\">\n        <div className=\"w-full max-w-2xl\">\n          {/* Header */}\n          <div className=\"text-center mb-12\">\n            <h1 className=\"text-4xl font-semibold text-gray-900 mb-3\">\n              Let's create an organization\n            </h1>\n            <p className=\"text-lg text-gray-500 font-normal\">\n              This organization will be the workspace for your company or team\n            </p>\n          </div>\n\n          {/* Form Card */}\n          <div className=\"bg-white rounded-2xl shadow-lg p-8 border border-gray-100\">\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Organization Name */}\n              <div>\n                <label htmlFor=\"name\" className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                  Organization name\n                </label>\n                <p className=\"text-xs text-gray-500 mb-3 font-normal\">\n                  It's best to use your company or team name\n                </p>\n                <input\n                  id=\"name\"\n                  type=\"text\"\n                  required\n                  value={name}\n                  onChange={(e) => {\n                    setName(e.target.value)\n                    setNameError(false)\n                  }}\n                  className={`w-full px-4 py-3.5 rounded-xl border ${\n                    nameError\n                      ? 'border-red-300 bg-red-50 focus:ring-red-500'\n                      : 'border-gray-200 bg-gray-50 focus:bg-white focus:ring-blue-500'\n                  } text-gray-900 placeholder-gray-400 focus:ring-2 focus:border-transparent transition-all outline-none text-base`}\n                  placeholder=\"Enter your organization name\"\n                  maxLength={100}\n                />\n                {nameError && (\n                  <div className=\"mt-3 flex items-start gap-2 text-red-600 text-sm\">\n                    <svg className=\"w-5 h-5 flex-shrink-0 mt-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                    </svg>\n                    <span className=\"font-medium\">Organization name is required</span>\n                  </div>\n                )}\n              </div>\n\n              {/* Organization Website */}\n              <div>\n                <label htmlFor=\"website\" className=\"block text-sm font-semibold text-gray-900 mb-2\">\n                  Organization website <span className=\"text-gray-400 font-normal\">(optional)</span>\n                </label>\n                <p className=\"text-xs text-gray-500 mb-3 font-normal\">\n                  This helps us validate your organization\n                </p>\n                <input\n                  id=\"website\"\n                  type=\"url\"\n                  value={website}\n                  onChange={(e) => setWebsite(e.target.value)}\n                  className=\"w-full px-4 py-3.5 rounded-xl border border-gray-200 bg-gray-50 focus:bg-white text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none text-base\"\n                  placeholder=\"https://example.com\"\n                  maxLength={500}\n                />\n              </div>\n\n              {/* Create Button */}\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-primary hover:opacity-90 text-white font-normal py-4 px-6 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed text-base shadow-lg hover:shadow-xl mt-8\"\n              >\n                {loading ? (\n                  <span className=\"flex items-center justify-center gap-2\">\n                    <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    Creating organization...\n                  </span>\n                ) : (\n                  'Create organization'\n                )}\n              </button>\n            </form>\n          </div>\n\n          {/* Help Text */}\n          <p className=\"text-center text-sm text-gray-500 mt-6 font-normal\">\n            You can add team members and configure settings after creating your organization\n          </p>\n\n          {/* Back to Organization List Link */}\n          <div className=\"text-center mt-8\">\n            <Link\n              href=\"/organizations\"\n              className=\"text-primary hover:text-primary/80 font-medium text-base transition-colors\"\n            >\n              Back to your organization list\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}